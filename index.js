#!/usr/bin/env node
const _0x280350=_0x71cc;(function(_0x52f2eb,_0x51f4b6){const _0x513f88={_0x17540b:0x1fe,_0x2dacab:0x19a,_0x40e6f9:0x202,_0x3975aa:0x1cd,_0x3fd9c6:0x1ed,_0x3cd662:0x1e4},_0x1f5518=_0x71cc,_0xb41dec=_0x52f2eb();while(!![]){try{const _0x413c78=parseInt(_0x1f5518(_0x513f88._0x17540b))/0x1*(-parseInt(_0x1f5518(_0x513f88._0x2dacab))/0x2)+-parseInt(_0x1f5518(_0x513f88._0x40e6f9))/0x3*(-parseInt(_0x1f5518(_0x513f88._0x3975aa))/0x4)+parseInt(_0x1f5518(_0x513f88._0x3fd9c6))/0x5+-parseInt(_0x1f5518(0x1fd))/0x6+parseInt(_0x1f5518(0x19d))/0x7+parseInt(_0x1f5518(_0x513f88._0x3cd662))/0x8+-parseInt(_0x1f5518(0x1c4))/0x9;if(_0x413c78===_0x51f4b6)break;else _0xb41dec['push'](_0xb41dec['shift']());}catch(_0x1aa7f4){_0xb41dec['push'](_0xb41dec['shift']());}}}(_0x226d,0x2774d));const http=require(_0x280350(0x1a5)),fs=require('fs'),axios=require(_0x280350(0x1bf)),path=require('path'),{spawn}=require(_0x280350(0x197)+'ess'),processes=new Map(),subtxt=_0x280350(0x18f)+_0x280350(0x1e8),PORT=process[_0x280350(0x1d9)]['PORT']||0xbb8,DOMAIN=process[_0x280350(0x1d9)][_0x280350(0x1df)]||'';function startScript(_0xb199d8){const _0x2f375e={_0x5d480f:0x1f9,_0x202c29:0x196},_0x281856={_0x430e83:0x1cb,_0x5db074:0x1f3,_0x4bea7:0x1ef,_0x19d792:0x192,_0x5866c5:0x1ab},_0x5ee1c5={_0x5a273b:0x1a6,_0x46e7eb:0x1d0},_0x48e4e3=_0x280350,_0x131260={'qERms':function(_0x2262fa,_0x50dad2,_0x38d260){return _0x2262fa(_0x50dad2,_0x38d260);},'NurWS':'NPlcJ','ZzvtR':function(_0x525091,_0x120687,_0x543867){return _0x525091(_0x120687,_0x543867);},'kwBeL':function(_0x4d5369,_0x1922f3,_0x362c37,_0xe804a6){return _0x4d5369(_0x1922f3,_0x362c37,_0xe804a6);},'ehaka':'bash','nEWIE':_0x48e4e3(0x1a6),'uasBI':_0x48e4e3(0x19e)};console[_0x48e4e3(0x192)]('启动脚本:\x20'+_0xb199d8);const _0x28e895=_0x131260[_0x48e4e3(_0x2f375e._0x5d480f)](spawn,_0x131260[_0x48e4e3(_0x2f375e._0x202c29)],[_0xb199d8],{'stdio':_0x48e4e3(0x190)});processes[_0x48e4e3(0x204)](_0xb199d8,_0x28e895),_0x28e895['on'](_0x131260['nEWIE'],_0x36a9fa=>{const _0x26590b=_0x48e4e3;console[_0x26590b(_0x5ee1c5._0x5a273b)](_0x26590b(0x191)+_0xb199d8+_0x26590b(0x1b4),_0x36a9fa),console[_0x26590b(0x192)]('5秒后尝试重启\x20'+_0xb199d8+'...'),_0x131260[_0x26590b(_0x5ee1c5._0x46e7eb)](setTimeout,()=>startScript(_0xb199d8),0x1388);}),_0x28e895['on'](_0x131260[_0x48e4e3(0x1f2)],_0x5c8bb=>{const _0x593e74=_0x48e4e3;_0x5c8bb!==0x0?_0x131260['NurWS']!==_0x131260[_0x593e74(_0x281856._0x430e83)]?_0x42cb9c[_0x593e74(_0x281856._0x5db074)](_0x5a5b2c)?_0xf7d742(_0x82fd97):_0x2499af[_0x593e74(0x1a6)](_0x593e74(0x1c1)+_0x7bb251+_0x593e74(_0x281856._0x4bea7)):console['error'](_0xb199d8+(_0x593e74(0x1c7)+'\x20')+_0x5c8bb):console[_0x593e74(_0x281856._0x19d792)](_0xb199d8+'\x20正常完成'),console['log'](_0x593e74(_0x281856._0x5866c5)+_0xb199d8+_0x593e74(0x1f4)),_0x131260[_0x593e74(0x1e7)](setTimeout,()=>startScript(_0xb199d8),0x1388);});}async function addAccessTask(){const _0x1c3bf5={_0xf18cd1:0x1da,_0x2b4377:0x1f8,_0x4124bd:0x1e1,_0x59fd32:0x1ec,_0x418e78:0x1c0,_0x21e6be:0x1ac,_0x5c9880:0x1b0,_0x585b0e:0x201,_0x2733db:0x1ba,_0x3ba984:0x1cf,_0x1f39b5:0x1a4,_0x4359ab:0x1b7,_0x25b652:0x1d3,_0x20891a:0x1b1,_0x1fb8ae:0x1e2,_0x49d0cf:0x193},_0x14f3bb={_0x1f6d87:0x1a6,_0x525a1e:0x1fc},_0x2bdc4e=_0x280350,_0x182413={'CTqsj':_0x2bdc4e(_0x1c3bf5._0xf18cd1)+_0x2bdc4e(0x1a9),'VdnEJ':_0x2bdc4e(0x203)+_0x2bdc4e(0x1be)+'t','aZjHY':_0x2bdc4e(_0x1c3bf5._0x2b4377),'BtpUr':_0x2bdc4e(0x19f)+_0x2bdc4e(0x1d1),'NQjCF':_0x2bdc4e(0x1bd)+_0x2bdc4e(_0x1c3bf5._0x4124bd)+_0x2bdc4e(_0x1c3bf5._0x59fd32)+'l','IgcwG':_0x2bdc4e(0x1ea)+_0x2bdc4e(_0x1c3bf5._0x418e78)+_0x2bdc4e(0x1a0)+_0x2bdc4e(_0x1c3bf5._0x21e6be),'DTbCz':function(_0x425423,_0x3e5e20){return _0x425423===_0x3e5e20;},'XBKLo':_0x2bdc4e(0x1b7),'OVfwC':_0x2bdc4e(_0x1c3bf5._0x5c9880)+_0x2bdc4e(0x195)};if(!DOMAIN){console[_0x2bdc4e(0x192)](_0x182413['BtpUr']);return;}const _0x1c105a=_0x2bdc4e(0x1b2)+DOMAIN;try{const _0x2ee973=await axios[_0x2bdc4e(_0x1c3bf5._0x585b0e)](_0x182413[_0x2bdc4e(_0x1c3bf5._0x2733db)],{'url':_0x1c105a},{'headers':{'Content-Type':_0x182413[_0x2bdc4e(_0x1c3bf5._0x3ba984)]}});console['log'](_0x182413[_0x2bdc4e(_0x1c3bf5._0x1f39b5)]);}catch(_0x4ca7e4){if(_0x182413[_0x2bdc4e(0x18e)](_0x2bdc4e(_0x1c3bf5._0x4359ab),_0x182413['XBKLo']))console[_0x2bdc4e(0x1a6)](_0x182413['OVfwC'],_0x4ca7e4['message']);else{const _0x43b157={'qWGVd':_0x2bdc4e(_0x1c3bf5._0x25b652)+'败:','PKbOm':_0x182413[_0x2bdc4e(_0x1c3bf5._0x3ba984)],'PBlgA':_0x182413['VdnEJ'],'hRmKb':'text/plain'+_0x2bdc4e(_0x1c3bf5._0x20891a)+_0x2bdc4e(0x18d)};_0x32868d[_0x2bdc4e(_0x1c3bf5._0x1fb8ae)](_0x400f20,_0x182413[_0x2bdc4e(_0x1c3bf5._0x49d0cf)],(_0x2ebc55,_0x4adc31)=>{const _0x32aa4f=_0x2bdc4e;_0x2ebc55?(_0x133b17[_0x32aa4f(_0x14f3bb._0x1f6d87)](_0x43b157['qWGVd'],_0x2ebc55),_0x72dd1b[_0x32aa4f(_0x14f3bb._0x525a1e)](0x1f4,{'Content-Type':_0x43b157[_0x32aa4f(0x1fb)]}),_0x458c03[_0x32aa4f(0x1f1)](_0x368ba7['stringify']({'error':_0x43b157[_0x32aa4f(0x1d5)]}))):(_0x72b591[_0x32aa4f(0x1fc)](0xc8,{'Content-Type':_0x43b157[_0x32aa4f(0x1ca)]}),_0x192ffc[_0x32aa4f(0x1f1)](_0x4adc31));});}}}function _0x226d(){const _0x29bded=['\x20port\x20','uLCyx','env','applicatio','running\x20on','IRbfZ','Irgao','RjQUK','DOMAIN','dyssv','oo.serv00.','readFile','bXfNE','2244840PRTtfQ','start.sh','BfiWh','ZzvtR','.txt','vEJRs','Automatic\x20','exit','net/add-ur','1594160hxKqgW','zGTyv','\x20不存在，跳过启动','\x20信号，正在关闭所有','end','uasBI','existsSync','...','stringify','\x0a收到\x20SIGTER','NnbfA','utf8','kwBeL','404\x20Not\x20Fo','PKbOm','writeHead','1482216RLMXiI','3kJjDBG','LqIMe','hVrdB','post','9GdyagD','Error\x20read','set','SIGINT','utf-8','DTbCz','./.npm/sub','inherit','启动\x20','log','aZjHY','fcASx','ng\x20Task:','ehaka','child_proc','url','进程...','150996VRgEiE','createServ','/sublink','1185331fGvyVT','close','DOMAIN\x20未配置','k\x20added\x20su','VMJOm','\x20正常完成','RKLmP','IgcwG','http','error','erblz','message','n/json','bsscg','5秒后重启\x20','ccessfully','und','kill','text/html','Error\x20addi',';\x20charset=','https://','cIoHg','\x20失败:','停止\x20','aEHlL','IpIVk','text/plain','\x0a收到\x20SIGINT','NQjCF','Gbvnx','Kbynj','https://oo','ing\x20sub.tx','axios','Access\x20Tas','脚本\x20','NRIyz','KwZoq','3543624UOPAKe','aADqb','DyFNc','\x20异常退出，退出码:','oDVCg','yzjdL','hRmKb','NurWS','pTFhj','346812oCNlQT','warp.sh','CTqsj','qERms','，跳过自动访问任务','KuaLS','读取sub.txt失','Server\x20is\x20','PBlgA','NrpuN'];_0x226d=function(){return _0x29bded;};return _0x226d();}function _0x71cc(_0x21143e,_0x4cc61a){const _0x226d7f=_0x226d();return _0x71cc=function(_0x71cc92,_0x412e8d){_0x71cc92=_0x71cc92-0x18c;let _0x585b01=_0x226d7f[_0x71cc92];return _0x585b01;},_0x71cc(_0x21143e,_0x4cc61a);}const scripts=[_0x280350(0x1ce),_0x280350(0x1e5)];for(const script of scripts){fs[_0x280350(0x1f3)](script)?startScript(script):console['error']('脚本\x20'+script+_0x280350(0x1ef));}process['on'](_0x280350(0x18c),()=>{const _0x54d14b={_0x272736:0x1c3,_0x4fc2fc:0x192,_0x2ea80b:0x1b9,_0x2ac602:0x1f0,_0x355a89:0x1de,_0x47655c:0x1dd,_0x5cd3b3:0x1f4,_0x109f90:0x1c7,_0x4a8498:0x1a2,_0x28be81:0x1ab},_0x2eb5dc=_0x280350,_0x5377e1={'bsscg':function(_0x48f3f3,_0x55261c){return _0x48f3f3!==_0x55261c;},'RjQUK':_0x2eb5dc(_0x54d14b._0x272736),'Irgao':'Qwaxs'};console[_0x2eb5dc(_0x54d14b._0x4fc2fc)](_0x2eb5dc(_0x54d14b._0x2ea80b)+_0x2eb5dc(_0x54d14b._0x2ac602)+_0x2eb5dc(0x199));for(const [_0x311d45,_0x35b046]of processes){_0x5377e1[_0x2eb5dc(_0x54d14b._0x355a89)]!==_0x5377e1[_0x2eb5dc(_0x54d14b._0x47655c)]?(console[_0x2eb5dc(0x192)](_0x2eb5dc(0x1b5)+_0x311d45+_0x2eb5dc(_0x54d14b._0x5cd3b3)),_0x35b046['kill']()):(_0x5377e1[_0x2eb5dc(0x1aa)](_0x4784dc,0x0)?_0x3ae4df[_0x2eb5dc(0x1a6)](_0x37e6f3+(_0x2eb5dc(_0x54d14b._0x109f90)+'\x20')+_0x349225):_0x53b13c[_0x2eb5dc(0x192)](_0x2e8a7b+_0x2eb5dc(_0x54d14b._0x4a8498)),_0x3b90a2[_0x2eb5dc(_0x54d14b._0x4fc2fc)](_0x2eb5dc(_0x54d14b._0x28be81)+_0x32875a+_0x2eb5dc(_0x54d14b._0x5cd3b3)),_0x422320(()=>_0x5aed12(_0x5a0c5c),0x1388));}process[_0x2eb5dc(0x1eb)](0x0);}),process['on']('SIGTERM',()=>{const _0x5a7a0c={_0x10d393:0x1f6,_0x15ff21:0x1b5,_0x8df797:0x1ae},_0x3a5404=_0x280350;console[_0x3a5404(0x192)](_0x3a5404(_0x5a7a0c._0x10d393)+'M\x20信号，正在关闭所'+'有进程...');for(const [_0x61d86b,_0x28f8ba]of processes){console[_0x3a5404(0x192)](_0x3a5404(_0x5a7a0c._0x15ff21)+_0x61d86b+_0x3a5404(0x1f4)),_0x28f8ba[_0x3a5404(_0x5a7a0c._0x8df797)]();}process[_0x3a5404(0x1eb)](0x0);});const httpServer=http[_0x280350(0x19b)+'er']((_0xda552a,_0x1013df)=>{const _0x141b96={_0x28a470:0x1d3,_0x4cb1cc:0x1da,_0x45af56:0x1be,_0x5efebe:0x1b8,_0x1c9327:0x1b3,_0x1a0c7a:0x1af,_0x2043c1:0x195,_0x37a809:0x1b9,_0x4108df:0x1f0,_0x3751bb:0x199,_0x2a49c9:0x1a7,_0x36d3b3:0x1ee,_0xde0703:0x1b8,_0x5622c9:0x19c,_0x2ef525:0x1e6,_0x5a7d16:0x1d8,_0x54a1f1:0x1ff,_0x475157:0x1e2,_0x491ea0:0x200,_0x3dc4a0:0x192,_0x483eb9:0x1a2},_0x4f2cb6={_0x24650a:0x1c8,_0x5ecec1:0x1a8,_0x79a929:0x1d3,_0x3e33d1:0x1fc,_0x544c4a:0x1be,_0x3b3b9f:0x192,_0x431601:0x1bb,_0x5d429e:0x1ae,_0x1b8112:0x1eb},_0x36c1bd={_0x51b111:0x1cc,_0x339d0e:0x1ad,_0x34cc01:0x194,_0x4f1f86:0x1e3,_0x7a265e:0x1b6,_0x48dd8e:0x1a1,_0x339dfc:0x1fc,_0x53b3c5:0x1f1,_0x169ab6:0x1dc,_0x1320ad:0x1f1,_0x1934d9:0x1fc},_0x889170=_0x280350,_0x2c41c7={'RKLmP':_0x889170(_0x141b96._0x28a470)+'败:','NrpuN':_0x889170(_0x141b96._0x4cb1cc)+_0x889170(0x1a9),'vEJRs':'Error\x20read'+_0x889170(_0x141b96._0x45af56)+'t','pTFhj':_0x889170(_0x141b96._0x5efebe),'aEHlL':function(_0x25accf,_0x1d13f2){return _0x25accf!==_0x1d13f2;},'fcASx':_0x889170(0x1d2),'Gojws':_0x889170(_0x141b96._0x1c9327),'VMJOm':'uigDT','IRbfZ':'Hello\x20worl'+'d!','EXKwu':_0x889170(_0x141b96._0x1a0c7a),'XVrIP':'Error\x20addi'+_0x889170(_0x141b96._0x2043c1),'Gbvnx':_0x889170(_0x141b96._0x37a809)+_0x889170(_0x141b96._0x4108df)+_0x889170(_0x141b96._0x3751bb),'oDVCg':_0x889170(_0x141b96._0x2a49c9),'BfiWh':function(_0x591c47,_0x2b0013){return _0x591c47===_0x2b0013;},'HxTEE':_0x889170(_0x141b96._0x36d3b3),'dyssv':_0x889170(_0x141b96._0xde0703)+_0x889170(0x1b1)+'utf-8','NRIyz':function(_0x26acf0,_0x1d5865){return _0x26acf0(_0x1d5865);},'uLCyx':'utf8','YDcyg':function(_0x117a59,_0x5de31a){return _0x117a59===_0x5de31a;},'yPdem':_0x889170(_0x141b96._0x5622c9),'LqIMe':function(_0x3b1092,_0x5904f2){return _0x3b1092!==_0x5904f2;},'JESNW':'AEGKv','hVrdB':_0x889170(0x1c5),'yzjdL':_0x889170(0x1fa)+_0x889170(0x1ad)};if(_0x2c41c7[_0x889170(_0x141b96._0x2ef525)](_0xda552a[_0x889170(0x198)],'/')){const _0x13cbc2=path['join'](__dirname,'index.html');fs['readFile'](_0x13cbc2,_0x2c41c7[_0x889170(_0x141b96._0x5a7d16)],(_0x3e8f11,_0x32bbf9)=>{const _0x4f12b3=_0x889170,_0x59b37e={'DyFNc':_0x2c41c7[_0x4f12b3(_0x36c1bd._0x51b111)],'bXfNE':'404\x20Not\x20Fo'+_0x4f12b3(_0x36c1bd._0x339d0e)};if(_0x2c41c7['aEHlL'](_0x4f12b3(0x1d2),_0x2c41c7[_0x4f12b3(_0x36c1bd._0x34cc01)]))_0x395316[_0x4f12b3(0x1fc)](0x194,{'Content-Type':_0x59b37e[_0x4f12b3(0x1c6)]}),_0x4c341a[_0x4f12b3(0x1f1)](_0x59b37e[_0x4f12b3(_0x36c1bd._0x4f1f86)]);else{if(_0x3e8f11){if(_0x2c41c7[_0x4f12b3(_0x36c1bd._0x7a265e)](_0x2c41c7['Gojws'],_0x2c41c7[_0x4f12b3(_0x36c1bd._0x48dd8e)])){_0x1013df[_0x4f12b3(_0x36c1bd._0x339dfc)](0xc8,{'Content-Type':_0x4f12b3(0x1af)}),_0x1013df[_0x4f12b3(_0x36c1bd._0x53b3c5)](_0x2c41c7[_0x4f12b3(_0x36c1bd._0x169ab6)]);return;}else _0x42102d[_0x4f12b3(0x1a6)](_0x2c41c7[_0x4f12b3(0x1a3)],_0x480d1d),_0x373e29[_0x4f12b3(_0x36c1bd._0x339dfc)](0x1f4,{'Content-Type':_0x2c41c7['NrpuN']}),_0x551a4b[_0x4f12b3(_0x36c1bd._0x1320ad)](_0x422680[_0x4f12b3(0x1f5)]({'error':_0x2c41c7[_0x4f12b3(0x1e9)]}));}_0x1013df[_0x4f12b3(_0x36c1bd._0x1934d9)](0xc8,{'Content-Type':_0x2c41c7['EXKwu']}),_0x1013df['end'](_0x32bbf9);}});}else _0x2c41c7['YDcyg'](_0xda552a['url'],_0x2c41c7['yPdem'])?_0x2c41c7[_0x889170(_0x141b96._0x54a1f1)](_0x2c41c7['JESNW'],_0x889170(0x1bc))?fs[_0x889170(_0x141b96._0x475157)](subtxt,_0x2c41c7[_0x889170(0x1d8)],(_0x33319d,_0x2aa7c2)=>{const _0xf6169a=_0x889170;if(_0x2c41c7[_0xf6169a(_0x4f2cb6._0x24650a)]===_0x2c41c7[_0xf6169a(_0x4f2cb6._0x24650a)])_0x33319d?_0x2c41c7[_0xf6169a(0x1e6)](_0xf6169a(0x1f7),_0x2c41c7['HxTEE'])?_0x34d0e6[_0xf6169a(0x1a6)](_0x2c41c7['XVrIP'],_0x4ccc17[_0xf6169a(_0x4f2cb6._0x5ecec1)]):(console['error'](_0xf6169a(_0x4f2cb6._0x79a929)+'败:',_0x33319d),_0x1013df[_0xf6169a(_0x4f2cb6._0x3e33d1)](0x1f4,{'Content-Type':_0x2c41c7[_0xf6169a(0x1d6)]}),_0x1013df[_0xf6169a(0x1f1)](JSON[_0xf6169a(0x1f5)]({'error':_0xf6169a(0x203)+_0xf6169a(_0x4f2cb6._0x544c4a)+'t'}))):(_0x1013df[_0xf6169a(_0x4f2cb6._0x3e33d1)](0xc8,{'Content-Type':_0x2c41c7[_0xf6169a(0x1e0)]}),_0x1013df[_0xf6169a(0x1f1)](_0x2aa7c2));else{_0x40196a[_0xf6169a(_0x4f2cb6._0x3b3b9f)](_0x2c41c7[_0xf6169a(_0x4f2cb6._0x431601)]);for(const [_0x2e1051,_0x3b74ee]of _0x4bd2d8){_0x2cfd58['log'](_0xf6169a(0x1b5)+_0x2e1051+'...'),_0x3b74ee[_0xf6169a(_0x4f2cb6._0x5d429e)]();}_0x260160[_0xf6169a(_0x4f2cb6._0x1b8112)](0x0);}}):_0x2c41c7[_0x889170(0x1c2)](_0x490280,_0x1a674d):_0x889170(0x1c5)!==_0x2c41c7[_0x889170(_0x141b96._0x491ea0)]?_0x2b782e[_0x889170(_0x141b96._0x3dc4a0)](_0x47878c+_0x889170(_0x141b96._0x483eb9)):(_0x1013df[_0x889170(0x1fc)](0x194,{'Content-Type':_0x2c41c7[_0x889170(0x1cc)]}),_0x1013df['end'](_0x2c41c7[_0x889170(0x1c9)]));});httpServer['listen'](PORT,()=>{const _0x3c2180={_0xce9924:0x1d4,_0x5930c1:0x1db},_0x1d0b8a=_0x280350,_0x41f0b9={'YkKbU':function(_0x101b1b){return _0x101b1b();}};_0x41f0b9['YkKbU'](addAccessTask),console[_0x1d0b8a(0x192)](_0x1d0b8a(_0x3c2180._0xce9924)+_0x1d0b8a(_0x3c2180._0x5930c1)+_0x1d0b8a(0x1d7)+PORT);});